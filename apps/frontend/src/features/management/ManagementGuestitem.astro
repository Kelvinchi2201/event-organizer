---
// Desestructuramos las props que vienen de la tabla "invitados"
const { id, estado_asistencia, fecha_envio, guest_name, guest_email, indications } = Astro.props;
// Lógica para mostrar un texto legible y un color diferente según el estado de asistencia
const statusText = estado_asistencia ? "Confirmado" : "Pendiente";
const statusClass = estado_asistencia ? "bg-green-200 text-green-800" : "bg-yellow-200 text-yellow-800";
---

<li id={id} class="flex flex-col gap-4 p-4 border border-cyan-700 rounded-md" data-status="inputs-deshabilitados">
    
    <div class="flex flex-col gap-2">
      <label for="guest_name" class="text-sm text-gray-600">Nombre del Invitado:</label>
      <input id="guest_name" class="w-full bg-cyan-300 rounded-md p-2  font-bold outline-none" type="text" value={guest_name} readonly>
    </div>

    <div class="flex flex-col md:flex-row gap-4">
      <div class="flex flex-col gap-2 w-full">
        <label for="guest_email" class="text-sm text-gray-600">Email:</label>
        <input id="guest_email" class="w-full bg-gray-100 rounded-md p-2 outline-none" type="email" value={guest_email} readonly>
      </div>
    </div>
    
    <div class="flex flex-col md:flex-row gap-4">
        <div class="flex flex-col gap-2 w-full md:w-1/2">
            <label for="fecha_envio" class="text-sm text-gray-600">Fecha de Envío:</label>
            {/* Formateamos la fecha para que sea más legible */}
            <input id="fecha_envio" class="w-full bg-gray-100 rounded-md p-2 outline-none" type="text" value={new Date(fecha_envio).toLocaleString()} readonly>
        </div>
        <div class="flex flex-col gap-2 w-full md:w-1/2">
            <label for="estado_asistencia" class="text-sm text-gray-600">Estado de Asistencia:</label>
            <input id="estado_asistencia" class={`w-full rounded-md p-2 outline-none text-center font-bold ${statusClass}`} type="text" value={statusText} readonly>
        </div>
    </div>

    <div class="flex flex-col gap-2">
      <label for="indications" class="text-sm text-gray-600">Indicaciones:</label>
      {/* Usamos un textarea por si las indicaciones son largas */}
      <textarea id="indications" class="w-full bg-gray-100 rounded-md p-2 outline-none" readonly>{indications}</textarea>
    </div>
    
    <div class="flex flex-col md:flex-row gap-2 mt-2">
      <button class="edit-btn-guest bg-gray-200 text-gray-800 py-2 px-4 text-center font-medium text-sm rounded-md hover:bg-gray-300 transition-all duration-200 ease-in w-full">Editar Invitado</button>
      <button class="delete-btn-guest bg-red-200 text-red-800 py-2 px-4 no-underline text-center font-medium text-sm rounded-md hover:bg-red-300 transition-all duration-200 ease-in w-full">Eliminar Invitado</button>
    </div>

</li>