import{k as a,B as c}from"./index.DDJsrb3y.js";import{a as g}from"./index.CViUNx8d.js";import{A as h}from"./auth.module.CbvJOYRn.js";const y=`${c}/api/events`,E=`${c}/api/guest`;let S=[];const r=g(S),I=async()=>{try{const e=await a.get(`${y}`,{credentials:"include"}).json();r.set(e)}catch(e){(e.response.status===401||e.response.status===403)&&location.replace("/login"),console.log(e)}},f=async e=>await a.get(`${E}/events/${e}/count`,{credentials:"include"}).json(),u={getEventsListForHome:I,getGuestsByEventId:f},_=document.querySelector("#events-item-template"),o=document.querySelector("#dashboard-list");await u.getEventsListForHome();r.subscribe(async e=>{o.innerHTML="";for(const t of e){const n=_.content.cloneNode(!0).children[0],i=n.querySelector("input:nth-child(1)"),l=n.querySelector("input:nth-child(3)"),d=n.querySelector("input:nth-child(5)"),p=n.querySelector("input:nth-child(7)"),m=n.querySelector("input:nth-child(9)");n.id=t.id;const v=await u.getGuestsByEventId(n.id);if(i.value=t.name,l.value=t.fecha_evento.split("T")[0],d.value=t.hora_evento,p.value=v.count,m.value=t.description,t.portada_url){const s=document.createElement("img");s.src=t.portada_url,s.alt=`Portada de ${t.name}`,s.className="w-full h-48 object-cover rounded-t-md",n.prepend(s)}o.append(n)}});const q=await h.getLoggedUser();q.id;
