import{g as o,a as p}from"./guest.module.CTfLyAG4.js";import"./notificiation.DEfUooIU.js";import"./index.DDJsrb3y.js";import"./index.CViUNx8d.js";const c=document.querySelector("#guest-list"),h=document.querySelector("#guest-item-template"),L=document.querySelector("#sendListBtn");await o.getLocalGuestList();p.subscribe(a=>{c.innerHTML="";for(const n of a){const e=h.content.cloneNode(!0),t=e.querySelector("input:nth-child(1)"),d=e.querySelector("input:nth-child(2)"),i=e.querySelector("input:nth-child(3)");e.querySelector("input:nth-child(4)");const s=e.querySelector("li");s.id=n.temp_id,t.value=n.guest_name,d.value=n.guest_email,i.value=n.indications,c.append(e)}});c.addEventListener("click",async a=>{const n=a.target.closest(".delete-btn"),e=a.target.closest(".edit-btn");if(n){const t=n.parentElement.parentElement;await o.removeGuestFromList(t.id)}if(e){const t=e.parentElement.parentElement,d=t.dataset.status,i=t.children[0].children[0],s=t.children[0].children[1],l=t.children[0].children[2],r=t.children[0].children[3],u=t.children[1].children[0];if(d==="inputs-deshabilitados"&&(i.removeAttribute("readonly"),s.removeAttribute("readonly"),l.removeAttribute("readonly"),t.dataset.status="inputs-habilitados",u.children[0].classList.add("hidden"),u.children[1].classList.remove("hidden"),i.classList.add("outline","outline-solid","outline-cyan-500"),s.classList.add("outline","outline-solid","outline-cyan-500"),l.classList.add("outline","outline-solid","outline-cyan-500")),d==="inputs-habilitados"){i.setAttribute("readonly",!0),s.setAttribute("readonly",!0),l.setAttribute("readonly",!0),t.dataset.status="inputs-deshabilitados",u.children[0].classList.remove("hidden"),u.children[1].classList.add("hidden"),i.classList.remove("outline","outline-solid","outline-cyan-500"),s.classList.remove("outline","outline-solid","outline-cyan-500"),l.classList.remove("outline","outline-solid","outline-cyan-500");const m={temp_id:t.id,events_id:Number(r.value),guest_name:i.value,guest_email:s.value,indications:l.value};await o.updatedGuestList(m)}}});document.addEventListener("DOMContentLoaded",()=>{o.getLocalGuestList()});L.addEventListener("click",async()=>{await o.sendGuestList()});
