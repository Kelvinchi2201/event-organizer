import{k as t,B as i}from"./endpoints.DkJ3glok.js";import{c as s}from"./notificiation.DEfUooIU.js";const n=document.querySelector("#recover-password-form"),o=document.querySelector("#email"),r=document.querySelector("#button-recover-password"),c=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,d={isEmailValid:!1};function l(e,a){a?(e.classList.remove("border-red-500","dark:border-red-500"),e.classList.add("border-green-500","dark:border-green-500")):(e.classList.remove("border-green-500","dark:border-green-500"),e.classList.add("border-red-500","dark:border-red-500")),e.value===""&&e.classList.remove("border-red-500","dark:border-red-500","border-green-500","dark:border-green-500")}function u(){const{isEmailValid:e}=d;r.disabled=!e}o.addEventListener("input",()=>{const e=c.test(o.value);d.isEmailValid=e,l(o,e),u()});n.addEventListener("submit",async e=>{e.preventDefault();try{r.disabled=!0,r.innerText="Enviando...";const a=await t.post(`${i}/api/users/forgotPassword`,{json:{email:o.value}}).json();s({title:"Correo de recuperacion enviado!",description:"Se ha enviado un correo de recuperacion a su bandeja de correo",type:"success"}),setTimeout(()=>{window.location.href="/login"},2500)}catch{r.disabled=!1,r.innerText="Recuperar contrase√±a",s({title:"Ups! Hubo un error",description:errorData?.error??"Sin mensaje",type:"error"})}});
